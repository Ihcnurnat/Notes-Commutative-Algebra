%\section{Chapter 3}

\section{Example}

Warning: localisation might not produce a local ring, for example see \href{https://math.stackexchange.com/questions/628371/a-f-is-not-a-local-ring}{HERE}.

If we localise at a prime ideal $\mathfrak p$ then it's local. See \href{https://math.stackexchange.com/questions/300446/why-is-the-localization-at-a-prime-ideal-a-local-ring#:~:text=Well%2C%20any%20proper%20ideal%20m,p%20is%20a%20local%20ring.}{HERE}.

\section{Proposition 3.7}

Localisation commutes with tensor product. See \href{http://sporadic.stanford.edu/math210a/sol4.pdf}{HERE} for a pure tensor manipulation. See \href{https://math.stackexchange.com/questions/2292960/localization-commutes-with-tensor-products}{HERE} for a post, using universal property of tensor product.

\section{Proposition 3.11}\label{Atiyah Chap 3 Prop 3.11.}

For i), I have some doubts in the last step of \href{https://math.stackexchange.com/questions/375353/every-ideal-of-the-localization-is-an-extended-ideal}{HERE}.

For iv), in the proof we have \textit{"$S^{-1}A/S^{-1}\mathfrak p\simeq \overline{S}^{-1}(A/\mathfrak p)$"}. In fact we if we apply exact functor $S^{-1}(-)$ to first isomorphism exact sequence we'll get it, with $S^{-1}$ but not $\overline{S}^{-1}$???

See a post discussing this \href{https://math.stackexchange.com/questions/1630232/localization-commutes-with-quotient}{HERE}. In the second answer, it used Universal Property of Localisation to prove the isomorphism...

For v), about extension of ideal, which really should be discussed in Chap 1.
\href{https://math.stackexchange.com/questions/367073/about-the-definition-of-extended-ideals}{HERE} is a post, discussion the definition.

For a more detailed treatment, see The Rising Sea 1.3.F. EXERCISE.

\section{Proposition 3.14}

One might wonder if the condition of finitely-generated is omitted what will happen?

Let $A=k[x]$ where $k$ is a field, and define 
$$M=\bigoplus_{i=2}^{\infty}\frac{k[x]}{x^i}=\frac{k[x]}{x^2}\oplus \frac{k[x]}{x^3}\oplus\cdots.$$

It's not finitely-generated as $k[x]-$module. 

Let $S=\{1,x,x^2,...\}$.

Notice that by definition $S^{-1}M=0$ given that for any $m\in M$ we can always choose a large enough $s\in S$ such that $sm=0$.

On the other hand we have $\operatorname{Ann}(M)=0$, which gives us
$$0=S^{-1}(\operatorname{Ann}(M))\neq \operatorname{Ann}(S^{-1}M)=\operatorname{Ann}(0)=k[x]$$

\section{Proposition 3.16} 

Question on the last equality. Purely based on the contents we knew $$\mathfrak q^c \supset \mathfrak p^{ec}=\mathfrak p.$$

Denote the ring homomorphism from $A\to B$ as $f$.
Conversely, we proceed by a contrapositive arguement. Suppose we have $x\in \mathfrak q^c\setminus \mathfrak p$, then $f(x)\in \mathfrak q$ and $f(x)\in f(A-\mathfrak p)=S$ by definition. But it was ensured that $\mathfrak q\cap S=\emptyset$, contradiction.

\subsection{Side Notes}

There are some examples from Reid's Undergraduate C.A, see P41. 

\section{Ex 1.}\label{Atiyah Chapter 3 Ex 1.}

$\Leftarrow:$ Assume the existence of an element $s\in S$ such that $sM=0$. For any element $m_0/s_0\in S^{-1}M$, we claim 
$$m_0/s_0=0/1 ~\text{ given }~ s(m_0\cdot 1 - s_0\cdot 0)=sm_0=0.$$Since every element is zero, hence $S^{-1}M=0$. 

$\Rightarrow:$ Since $M$ is finitely-generated, let $m_1,...,m_n$ be its generators for some $n\in\mathbb Z$. For each $m_i$, there's some $s_i\in S$ such that 
$s_im_i=0$ by assumption. Now we define 
$$s=\prod_{i=1}^n s_i$$ and claim that $sM=0$. 
This because for any $m\in M$, we can express it as $a_1m_1+\cdots+ a_nm_n=m\in M$ for some coefficients $a_i\in A$. Furthermore, we notice \begin{align*}
    sm =& s(a_1m_1+\cdots+ a_nm_n)
       = a_1sm_1+\cdots a_nsm_n=0,
\end{align*}which proves $sM=0$.

\ding{45} "finitely-generated $A$-module $M$" is important? Any counterexample???


\section{Ex 2.}

We recall the charactersation of Jacobson radical in a ring. For any element $x\in \operatorname{Jac}()$

\section{Ex 3.}

% https://q.uiver.app/#q=WzAsNCxbMCwwLCJBICJdLFsxLDAsIlNeey0xfUEiXSxbMiwwLCJVXnstMX0oU157LTF9QSkiXSxbMSwxLCIoU1QpXnstMX1BIl0sWzAsMywiZ18xIiwyXSxbMCwxLCJmXzEiXSxbMSwyLCJmXzIiXSxbMSwzLCJmXzMiLDJdLFsyLDMsIlxcZXhpc3RzICEgXFxwaGkiLDIseyJjdXJ2ZSI6MSwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzMsMiwiXFxleGlzdHMgISBcXHBzaSIsMix7ImN1cnZlIjoxLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XV0=
\[\begin{tikzcd}
	{A } & {S^{-1}A} & {U^{-1}(S^{-1}A)} \\
	& {(ST)^{-1}A}
	\arrow["{g_1}"', from=1-1, to=2-2]
	\arrow["{f_1}", from=1-1, to=1-2]
	\arrow["{f_2}", from=1-2, to=1-3]
	\arrow["{f_3}"', from=1-2, to=2-2]
	\arrow["{\exists ! \phi}"', curve={height=6pt}, dashed, from=1-3, to=2-2]
	\arrow["{\exists ! \psi}"', curve={height=6pt}, dashed, from=2-2, to=1-3]
\end{tikzcd}\]

Firstly, we claim that $f_2\circ f_1$ will send every element of $ST$ to a unit in $U^{-1}(S^{-1}A)$. Hence by universal property there's a unique map 
$$\psi:(ST)^{-1}A\to U^{-1}(S^{-1}A).$$

Proof for the first claim. Element of $ST$ is like $st$ for some $s\in S$ and $t\in T$. Under $f_1$, $s/1$ is a unit in $S^{-1}A$ and $t/1\in U$. Furthermore, under $f_2$, element $f_2(t/1)$ will be a unit in $U^{-1}(S^{-1}A)$. And we have $f_2\circ f_1(st)=\frac{st/1}{1}$ is a unit for there exists \begin{align*}
    \frac{1/s}{t/1}\in U^{-1}(S^{-1}A) ~\text{ such that }~ \frac{st/1}{1}\cdot\frac{1/s}{t/1}=1.
\end{align*}

Secondly, we claim that $f_3$ will send every element of $U$ to unit in $(ST)^{-1}A$, which give rise to the unique existence of 
$$\phi:U^{-1}(S^{-1}A)\to (ST)^{-1}A.$$

Proof for the second claim. Note that the map 
$$f_3: S^{-1}A\to (ST)^{-1}A$$ is a ring inclusion. Clearly $t/1\in U$ will be a unit under $f_3$ in $(ST)^{-1}A$ given $1/t\in (ST)^{-1}A$ and $t/1\cdot 1/t=1$.

Both maps are unique and making the diagram commute, hence they're isomorphisms.


See Stack Project Prop 10.9.10 \href{https://stacks.math.columbia.edu/tag/00CM}{HERE}. See this page, for a discussion between isomorphisms of localisations as either ring or module...

\section{Ex 4.}

My approach was to produce two unique morphisms by universal property of $S^{-1}B$ and $T^{-1}B$, respectively. 

% https://q.uiver.app/#q=WzAsMyxbMCwxLCJCIl0sWzEsMCwiU157LTF9QiJdLFsxLDIsIlReey0xfUIiXSxbMCwxLCJiXFxtYXBzdG8gYi8xIl0sWzAsMiwiYlxcbWFwc3RvIGIvZigxKSIsMl0sWzEsMiwiXFxleGlzdHMhIiwyLHsiY3VydmUiOjEsInN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFsyLDEsIlxcZXhpc3RzICEiLDIseyJjdXJ2ZSI6MSwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
\[\begin{tikzcd}
	& {S^{-1}B} \\
	B \\
	& {T^{-1}B}
	\arrow["{b\mapsto b/1}", from=2-1, to=1-2]
	\arrow["{b\mapsto b/f(1)}"', from=2-1, to=3-2]
	\arrow["{\exists!}"', curve={height=6pt}, dashed, from=1-2, to=3-2]
	\arrow["{\exists !}"', curve={height=6pt}, dashed, from=3-2, to=1-2]
\end{tikzcd}\]

But it seems to be difficult to write in valid proof....

See a post discuss a more straight-forward approach \href{https://math.stackexchange.com/questions/375454/s-1b-and-t-1b-isomorphic-for-t-fs}{HERE}, and \href{https://math.stackexchange.com/questions/1459441/fa-to-b-ring-homomorphism-s-multiplicatively-closed-subset-of-a-what-does}{HERE}. In the first post, there's an obvious map to define and module homomorphism together with surjectivity easy to check. For the injectivity, we can check... 

\section{Ex 5.}

I encountered a problem, wishing to prove $x/1\neq 0/1$ in the localised ring.


\textit{A potentially incorrect solution}

We wish to prove that 
$$\operatorname{Nil}(A)=\bigcap_{\mathfrak p\in\operatorname{Spec}A}\mathfrak p=0.$$

For the localised ring $A_{\mathfrak p}$, by Prop 3.11 (i) and Coro 3.13, we know every ideals are extended ideals and 
\begin{align*}
	0=\operatorname{Nil}(A_{\mathfrak p}) =& \bigcap_{\mathfrak q\in\operatorname{Spec}A,~ \mathfrak q\subset \mathfrak p} \mathfrak q^{e}\supset \left(\bigcap_{\mathfrak q\in\operatorname{Spec}A,~ \mathfrak q\subset \mathfrak p} \mathfrak q\right)^e
\end{align*}where the last inclusion is given by Exercise 1.18 on Page 10 of Atiyah's textbook. But the only way that an extended ideal to be zero is the ideal 
$$\bigcap_{\mathfrak q\in\operatorname{Spec}A,~ \mathfrak q\subset \mathfrak p} \mathfrak q=0.$$ Therefore we have 
\begin{align*}
	\operatorname{Nil}(A) =& \bigcap_{\mathfrak p\in\operatorname{Spec}A}\mathfrak p\subset \bigcap_{\mathfrak q\in\operatorname{Spec}A,~ \mathfrak q\subset \mathfrak p} \mathfrak q=0.
\end{align*}

See a post \href{https://math.stackexchange.com/questions/2095939/proof-check-being-reduced-is-a-local-property-atiyah-macdonald-3-5?rq=1}{HERE}. For examples...

See a post \href{https://math.stackexchange.com/questions/2095939/proof-check-being-reduced-is-a-local-property-atiyah-macdonald-3-5?rq=1}{HERE}. It used Corollary 3.12.

\textit{"Being an integral domain is not a local property."} See a post \href{https://math.stackexchange.com/questions/685844/is-being-an-integral-domain-a-local-property}{HERE}.

Possible counterexamples including $\mathbb Z/6\mathbb Z$, $\mathbb C[x,y]/\langle xy\rangle$, etc. 
But I'm not sure about the what will be the localisation... 
One very simple way to construct a counterexample to take product of two integral domains. 
Say $R=\mathbb Q\times\mathbb Q$. According to Milne's Notes on Algebraic Number Theory Page 15, "Ideals in product of rings", we know that prime ideals in $R$ is of the form $\mathfrak q=\mathfrak p\times \mathbb Q$ or $\mathbb Q\times\mathfrak p$ where $\mathfrak p\subset\mathbb Q$ is a prime ideal. We can see that $R_{\mathfrak q}$ is always an integral domain. However, $R$ is not an integral domain for $(1,0),(0,1)$ are nontrivial zero-divisors.

\section{Ex 6.}\label{Atiyah Chap 3 Ex 6.}

Apply Zorn's Lemma. Since $A\neq 0$, hence it has identity. Then $\{1\}$ would be a multiplicatively closed subset. Hence $\sum$ is nonempty. Each \textit{chain} is bounded above by $A\setminus\{\text{zerodivisors}\}$. \ding{54}!!!
This is a wrong way to apply Zorn. Because I was confused how to find the correct upper bound?...\\

The set $\sum$ is nonempty and ordered by inclusion as illustrated above. Fix a chain, the upper bound is the union of all multiplicatively close subsets \[S=\bigcup S_i\] where $S_i$ are all multiplicatively closed subsets in the chain. Clearly, union of multiplicatively closed subsets $S$ is again multiplicatively closed and crutially we know $0\notin S$. Therefore each chain is bounded above, then we can apply Zorn's Lemma to conclude the existence of a maximal element $S\in \sum$. \textit{This proof is exactly the same as proper ideal lies in some maximal ideal...}

$\Rightarrow$: Use contrapositive for "minimal"(Is this legal??? In fact we can contradicts either three properties including minimal, prime, or ideal...). Suppose on the contrary that we have a prime ideal $\mathfrak p\subsetneq A-S$, then $A-\mathfrak p\in \sum$ is a multiplicatively closed subset such that $0\notin A-\mathfrak p$. Clearly we have $A-\mathfrak p\supsetneq S$, and this contradicts the assumption that $S$ is the maximal element in $\sum$.

$\Leftarrow$: Assume $A-S$ is a minimal prime ideal. Hence $S$ is a multiplicatively closed set such that $0\notin S$. Furthermore, multiplicatively closed set $S$ is maximal given

\subsection{}
One concern was about contrapositive, is that legal? Another problem I encountered was taking complement of multiplicatively closed subset. It will not necessarily give us an ideal. For example, consider $\mathbb Q[x]$ with a multiplicativly closed subset $S_0=\{1,x,x^2,...\}$, the complement isn't even closed under addition for we have $x+1/2,x-1/2$. Or another even simpler example, take $S_1=\{1\}$ in $\mathbb Z$.

However, "complement of maximal multiplicatively closed subset \textit{is} a prime ideal." See this post \href{https://math.stackexchange.com/questions/3704318/complement-of-multiplicative-set-is-a-prime-ideal}{HERE}. \todo{\ding{52}}

\subsection{}
A post \href{https://math.stackexchange.com/questions/25739/complement-of-maximal-multiplicative-set-is-a-prime-ideal}{HERE}. A post \href{https://math.stackexchange.com/questions/3962023/atiyah-macdonald-exercise-3-6}{HERE}, see this post "conversely". 

\subsection{}

Note that on "A Term..." there's another approach, requiring saturation... 

\section{Ex 7.}\label{Atiyah Chapter 3 Ex 7}

\subsection{(i)}

$\Leftarrow$: Assume $A-S$ is a union of prime ideals. Then $S$ is a intersection of multiplicatively closed subset, which is again a multiplicativly closed subset. We only need to prove that 
$$xy\in S ~\Rightarrow~ x\in S ~\text{ and }~ y\in S.$$
This is true since $xy\notin \mathfrak p_i$ for each prime ideals implies $x\notin\mathfrak p_i$ and $y\notin\mathfrak p_i$. While $\mathfrak p_i$ is arbitrary, we can conclude that $x\in S$ and $y\in S$.

Verified at \cite{altman} Exercise 3.24. \todo{\ding{52}}

$\Rightarrow$: Assume $S$ is saturated. 

We note that $A-S$ contains no unit, so we can cover it by $\{\mathfrak p_i\}_{i\in I}$ for some index $I$ in which every $\mathfrak p_i$ is a maximal ideal. 
Now we need to prove $\mathfrak p_i\cap (A-S)$ is an ideal and prime. 

The above approach is potentially wrong... I couldn't work out. Because I couldn't prove \textit{is} an additive Abelian group. 
See a post \href{https://math.stackexchange.com/questions/4329999/saturated-set-and-union-of-prime-ideals}{HERE}. 

\subsection{}
\textit{Potentially wrong...}
It turned out I choose the wrong covering. See a post \href{https://math.stackexchange.com/questions/3988316/proof-verification-atiyah-macdonald-exercise-3-7i}{HERE}. It has some slight problems...

Start with fact that any $x\in A-S$ is a non-unit, under the ring homomorphism $f:A\to S^{-1}A$ the element $f(x)$ will still be a non-unit (???). Hence we can find a maximal ideal $\mathfrak q\subset S^{-1}A$ contains $f(x)$. In particularly, it's prime. By correspondence theorem we know its preimage $f^{-1}(\mathfrak q)$ will have trivial intersection with $S$. Hence 
$$x\in f^{-1}(\mathfrak q)\subset A-S$$ and this proves that $A-S$ is a union of prime ideals.\\

I have some doubts towards the above argument. Ring homo will map unit to unit. But ring homo won't necessarily map non-unit to non-unit, for example take inclusion map $\mathbb Z\to \mathbb Q$. 
But is the argument right in this specific case?

% toggle layer visibility
%\switchocg{myLayer1}{Click to show/hide PDF Layer} 
%\begin{ocg}{MyLayer1}{myLayer1}{off}
\subsection{a verified approach}

According to a post \href{https://math.stackexchange.com/questions/57684/complement-of-saturated-set}{HERE}. One important claim is that we can find a maximal ideal containing $\langle x\rangle$ and disjoint from $S$. This is possible, see Eisenbud's "Commutative Algebra...", Page 70, construction of a prime ideal.

Or see "A Term..." Proposition 3.9, Exercise 3.24. See \href{https://math.stackexchange.com/questions/4329999/saturated-set-and-union-of-prime-ideals}{HERE}. \todo{\ding{52}}

\subsection{Examples}

Assumption of $S$ being saturated is necessary. Note that $\{1\}\subset \mathbb Z$ is a multiplicatively closed subset that's not \textit{saturated}, whereas $\{-1,1\}$ is saturated. And clearly $\mathbb Z\setminus \{1\}$ isn't a union of prime ideals for we have $1,-1$ inside that could never be covered by prime ideals. Indeed, we note $\mathbb Z\setminus \{-1,1\}$ is a union of primes. (?) 

\subsection{(ii)}

Let $\sum$ denotes the set of all \textit{saturated} multiplicatively closed subset in $A$ that containing $S$. Note that in each \textit{chain} $\{S_i\}_{i\in I}$ where $I$ is some index set, the intersection 
$$A:=\bigcap_{i\in I} S_i$$ is again saturated multiplicatively closed subset: clearly it contains $1$; multiplicatively closed for each $S_i$ is so; and saturated for the similar reason. Also it must contain $S$, so $A\in\sum$.

Hence each chain in $\sum$ is bounded below, Zorn's Lemma gives us the existence of minimal element. 
Suppose we have two distinct minimal element $A_1,A_2$, i.e. we have $A_1-A_2\neq\emptyset,A_2-A_1\neq\emptyset$. Pick $x\in A_1-A_2$ and $y\in A_2-A_1$. Then $xy\in A_1\cap A_2$, while $A_1$ is saturated then $x\in A_2$, contradiction! Therefore there's only one minimal element, i.e. the smallest one, in $\sum$ and we can denote it as $\overline{S}$.

Let the set $\{\mathfrak Q_i\}_{i\in J}$ denotes the set of all prime ideals in $A$ that do not meet $S$ for some index set $J$. According to (i),
$$A-\bigcup_{i\in J}\mathfrak Q_i$$ is a saturated multiplicatively closed subset. 
Clearly we have 
$$S\subset A-\bigcup_{i\in J}\mathfrak Q_i,$$ while $\overline{S}$ is smallest saturated one we know
$$\overline{S} \subset A-\bigcup_{i\in J}\mathfrak Q_i.$$
Also we must have the inclusion in converse direction. Otherwise, say $A-\bigcup_{i\in J}\mathfrak Q_i\subsetneq \overline{S}$, we'll get a strictly larger set of prime ideals that don't meet $S$ indexed by $J_0$. This is because $\overline{S}$ is saturated we can apply (i) above. And this is a contradiction for definition of $J$. Hence we can conclude 
$$\overline{S}= A-\bigcup_{i\in J}\mathfrak Q_i.$$

See a verified post \href{http://www.math.caltech.edu/~2016-17/1term/ma120a/solutions/Sol1.pdf}{HERE}. \todo{\ding{52}}

\subsection{Compute a specifc example, wrong}

For the case where $\mathfrak a=A$, we have $1+\mathfrak a=A$ and $\overline{S}=A$.

Now we can assume $1\notin \mathfrak a$.
Note that $\langle 1+\mathfrak a,~ \mathfrak a\rangle=\langle 1\rangle=A$. So the set of all prime ideals in $A$ that do not meet $S$ lies strictly inside $\mathfrak a$. \todo{\ding{53} Wrong}

For any prime ideal $\mathfrak p\subsetneq \mathfrak a$, we claim that $\mathfrak p\cap (1+\mathfrak a)=\emptyset$. Suppose we have 
$$1+a=p$$ for $a\in\mathfrak a$ and $p\in\mathfrak p\subset\mathfrak a$, then $1\in \mathfrak a$, contradiction. 
Therefore we know that any prime ideals lies strictly inside $\mathfrak a$ are exactly the set of prime ideals that do not meet $S$. Hence we can conclude 
$$\overline{S}=\bigcup_{\mathfrak p\in\operatorname{Spec}A,~\mathfrak p\subsetneq \mathfrak a}\mathfrak p.$$

Above argument is wrong! I made a mistake in the original proof \ding{53}

??? Recall the localisation, we have 
$$\overline{S}=A-\left(\bigcup_{\mathfrak q\in\operatorname{Spec}(S^{-1}A)}f^{-1}(\mathfrak q)\right)$$ where $f:A\to S^{-1}A$.

\subsection{Compute a specifc example, verified}

See \href{https://math.stackexchange.com/questions/1635191/saturation-of-a-multiplicatively-closed-subset}{HERE}. And \cite{altman} Exercise 3.25. \todo{\ding{52}}

The correct approach is to consider all primes that containing $\mathfrak a$.
$$\overline{S}=A-\left(\bigcup_{\mathfrak p\in\operatorname{Spec}(A),~ \mathfrak a\subset\mathfrak p}\right)\mathfrak p.$$

\section{Ex 8.}

\subsection{}

For (i) $\Rightarrow$ (ii). Fix $t\in T$. Then $t/1$ is a unit in $S^{-1}A$ with the inverse being $\phi^{-1}(1/t)\in S^{-1}A$ given $\phi$ is bijective. 
Notice that under ring homomorphism 
\[\phi(t/1\cdot\phi^{-1}(1/t))=\phi(t/1)\cdot 1/t=t/1\cdot 1/t=1 ~\Rightarrow~ t/1\cdot\phi^{-1}(1/t)=1\in S^{-1}A.\]

\subsection{}

For (ii) $\Rightarrow$ (iii). Fix an element $t\in T$. By (ii) we know there's an element $a/s\in S^{-1}A$ for some $a\in A$ and $s\in S$ such that $1=t/1\cdot a/s=ta/s$. By definition there's some $s'\in S$ such that \[s'(ta-s)=0\in A ~\Rightarrow~ (s'a)t=s's\in S.\] Notice that $s'a\in A$, so we can define $x=s'a$ hencde $xa\in S$ as expected. 

\subsection{}\label{Atiyah Chapter 3 Ex 8. 3-4}

For (iii) $\Rightarrow$ (iv). For any $t\in T$, there exists some $x\in A$ such that 
\[xt\in S\subset \overline{S} ~\Leftrightarrow~ x,t\in\overline{S}.\]

\subsection{}

For (iv) $\Rightarrow$ (v). Take contrapositive. For any prime ideal $\mathfrak p$ that doesn't meet $S$, then \[\mathfrak p\subset A\setminus \overline{S}\subset A\setminus T.\] And this is saying that $\mathfrak p$ won't meet $T$.

\subsection{}

For (v) $\Rightarrow$ (i). 
?? No idea. I tried two approaches. One is use local property, which leads to localise twice. Another is to verify bijectivity element-wise.

\subsection{}

For (v) $\Rightarrow$ (iv). Okay. Use contrapostive and characterisation of saturation in \Cref{Atiyah Chapter 3 Ex 7}. Say $T$ isn't completely contained in $\overline{S}$, this means it meet some prime ideal that doesn't meet $S$. And this contradicts the (iv) as expected.

\subsection{}

For (iii) $\Rightarrow$ (ii). For any $t\in T$, we claim $t/1$ is a unit in $S^{-1}A$. Since we can find $x\in A$ such that $xt\in S$, and for $x/xt\in S^{-1}A$,
\[t/1\cdot x/xt = 1.\]

\subsection{}

For (iii) $\Rightarrow$ (i). Since we've checked equivalence between (ii) and (iii), we will use (ii) as an assumption.

Firstly we'll try to prove (iii) implies injectivity of $\phi$. For $a_1/s_1,a_1/s_2\in S^{-1}A$ such that \[a_1/s_1=\phi(a_1/s_1)=\phi(a_2/s_2)=a_2/s_2 ~\Rightarrow~ \exists t_1\in T,~ t_1(a_1s_2-s_1a_2)=0\in A.\]
By (iii) we know there exists some $x\in A$ such that $xt_1\in S$, so $xt_1(a_1s_2-s_1a_2)=0$ will imply \[a_1/s_1=a_2/s_2\in S^{-1}A,\] which proves injectivity.

Secondly we'll prove (ii) implies surjectivity of $\phi$.
Indeed, by (ii) we know $(t/1)^{-1}=a_0/s_0\in S^{-1}A$ for some $a_0\in A$ and $s_0\in S$. Let's start be picking an element $a/t\in T^{-1}A$. And we claim that \[\frac{aa_0}{s_0}\overset{\phi}{\rightarrow}\frac{a}{t}.\] Therefore we have to check $\phi(aa_0/s_0)=aa_0/s_0=a/t$. Recall that by definition we know \[a_0/s_0\cdot t/1=1 ~\Rightarrow~ \exists s'\in S,~ s'(a_0t-s_0)=0.\] Then we have \[s'(aa_0t-s_0a)=0 ~\Rightarrow~ \frac{aa_0}{s_0}=\frac{a}{t}.\]

Hence we've proved that $\phi$ is bijective. 

\subsection{Comments}

In summary, we've checked (v) and (iv) are equivalent; (i), (ii), and (iii) are equivalent. With an extra implication \Cref{Atiyah Chapter 3 Ex 8. 3-4}. 

I couldn't finish the direction of (v) implies (i). \todo{Is there a direct proof?}

But there's certainly a valid way to finish this. In Matsumura \cite{matsumura1989commutative} or \cite{altman}, there's another equivalent definition of \textit{saturation}, which is explicit in terms of set-builders. In that way, we can see (iv) implies (ii) easily. 

Now we only need to verify two definitions are equivalent. See \cite{altman} Exercise 3.25.

\subsection{}

See a post \href{http://math_research.uct.ac.za/marques/US/AMCh3forSophiesAGSeminar.pdf}{HERE} and \href{https://math.stackexchange.com/questions/308292/s-t-be-multiplicatively-closed-sets-in-the-ring-r-such-that-s-subseteq-t}{HERE}.

In fact, according to Martin's hint, we should try to prove equivalence between (ii) and (v). In previous parts we've managed to verify (ii) $\Rightarrow$ (v).

Now we try to verify (v) $\Rightarrow$ (ii). Suppose on the contrary that there exists some $t_0\in T$ such that $t_0/1$ isn't a unit in $S^{-1}A$. Then there exists a maximal ideal such that \[\langle t_0/1\rangle \subset \mathfrak M \triangleleft_{\text{max}}S^{-1}A.\] While we know every ideal in $S^{-1}A$ is \textit{extended} ideal, by characterisation in Chapter 1 Prop 1.17., we know \[\mathfrak M^{ce}=\mathfrak M.\] Denote $\mathfrak m=\mathfrak M^c$, and we have $S^{-1}\mathfrak m=\mathfrak M$. In particularly, we have $t/1\in S^{-1}\mathfrak m$, in which $\mathfrak m$ is a prime ideal in $A$. 
Notice that we have \todo{is the first equality right?}
\[t=f^{-1}(t/1)=(t/1)^c\in\mathfrak M^c=\mathfrak m^{ec}=\mathfrak m\] where $f:A\to S^{-1}A$.
Then assumption (v) will force $\mathfrak m$ meet $s$. Apply Prop 3.11 (ii) we know 
\[\mathfrak M=\mathfrak m^e=(1),\] which is a contradiction.

\subsection{}

Some concerns are here. Mainly for the equality mentioned above. We know $t/1\in \mathfrak M=\mathfrak m^e$ is element generated by some finite linear (with coefficients in $S^{-1}A$) combination of elements from $\mathfrak m$. One thing worth noting is that $\mathfrak m^e=S^{-1}\mathfrak m$, so $t/1\in m_0/s_0$ for some $m_0\in\mathfrak m$ and $s_0\in S$. But this isn't enough to argue $t\in\mathfrak m$??? 

But thanks to defintion of $(\cdot)^c$, which is essentially inverse $f$...

\section{Ex 9.}
\textit{The set $S_0$ of all non-zero-divisors in $A$ is a saturated multiplicatively closed subset of $A$. Hence the set $D$ of zero-divisors in $A$ is a union of prime ideals (see Chapter 1, Exercise 14). Show that every minimal prime ideal of $A$ is contained in $D$. [Use Exercise 6.]\\ The ring $S_0^{-1} A$ is called the \textbf{total ring of fractions} of $A$. Prove that \begin{itemize}\item $S_0$ is the largest multiplicatively closed subset of $A$ for which the homomorphism $A\to S_0^{-1}A$ is injective. \item Every element in $S_0^{-1}A$ is either a zero-divisor or a unit. \item Every ring in which every non-unit is a zero-divisor is equal to its total ring of fractions (i.e., $A\to S_0^{-1}A$ is bijective).\end{itemize}}

\subsection{}
	Clearly we have $S_0$ is saturated multiplicatively closed. Since we can easily prove 
	\[ab\notin S_0 ~\Leftrightarrow~ a\notin S_0 ~\lor~ b\notin S_0.\]


\subsection{}

By \Cref{Atiyah Chapter 3 Ex 7}, we know $A-S_0=D$ is a union of prime ideals. Compare this result with Chapter 1 Exercise 14.

Let $\mathfrak q_1\triangleleft A$ be a minimal prime ideal, then $A-\mathfrak q_1$ is a multiplicatively closed subset such that $A-\mathfrak q_1\in\Sigma$ by \ref{Atiyah Chap 3 Ex 6.}.
Here $\Sigma$ denotes the same thing as in Exercise 6 \ref{Atiyah Chap 3 Ex 6.}.

\subsection{}

I couldn't proceed. See a post \href{https://mathoverflow.net/questions/67382/minimal-primes-and-zero-divisors}{HERE}.

See \cite{altman}, Corollary 11.4. Very elegant proof using localisation. 

However, prime ideals might well contain non-zero-divisors. For example, in $\mathbb Z$ we have $(3), (5),...$ But $3$ is clearly a non-zero-divisor.

I don't know if there's a proof that solely relies on result of Exercise 6 according to the hint.


\subsection{(i)}

First of all, we need to check that the homomorphism $A\to S_0^{-1}A$ is indeed injective. Suppose we have two distinct element $a,b\in A$ such that \[a/1=b/1\in S_0^{-1}A ~\Leftrightarrow~ \exists~s\in S_0,~ s(a\cdot 1-b\cdot 1)=0.\] While $a-b\neq 0$ would suggest that $s$ is a zero-divisor, contradiction. Therefore we must have $a/1\neq b/1$ and the homomorphism is injective. 

Suppose $S_1\supsetneq S_0$ is a multiplicatively closed subset such that $A\to S_1^{-1}A$ is injective. Notice that by definition it must contain a zero-divisor $q_1\in S_1$. This means there exists $q_2\neq 0$ such that $q_1q_2=0$. But this implies \[q_2/1=0/1\in S_1^{-1}A.\] Therefore $A\to S_1^{-1}A$ isn't injective anymore. 

\subsection{(ii)}

Take an element $a_0/s_0\in S_0^{-1}A$. Suppose for the sake of contradiction that it's a non-zero-divisor and a non-unit. 

Then we claim $a_0\notin S_0$. Otherwise, we'll have $s_0/a_0\in S_0^{-1}A$ such that $a_0/s_0\cdot s_0/a_0=1\in S_0^{-1}A$. 

Hence $a_0$ must be a zero-divisor. Then there exists a non-zero element $a_1\in A$ such that $a_0a_1=0$. Suppose $a_1/1=0\in S_0^{-1}A$, then there exists $s_2\in S_0$ such that $s_2a_1=0$. While $a_1\neq 0$, it contradicts the fact that $s_2$ is a non-zero-divisor. Hence we've found a nonzero element such that 
\[\frac{a_0}{s_0}\cdot \frac{a_1}{1}=\frac{0}{s_0}=\frac{0}{1}=0\in S_0^{-1}A.\]
And this contradicts the assumption that $a_0/s_0$ is a non-zero-divisor. Hence we can conclude that element in $S_0^{-1}A$ is either a zero-divisors or a unit.

\subsection{(iii)} %\todo{Checked at "A Term" Exercise 11.26}

Notice that when $1\neq 0$, then every unit must be a non-zero-divisor. Therefore we have, in general, \[\{\text{zero-divisors}\}\subset\{\text{non-units}\}.\]
See a post \href{https://math.stackexchange.com/questions/2062615/can-an-element-in-a-ring-with-unity-be-both-a-unit-and-zero-divisor}{HERE}.

It suffices to check $A\to S_0^{-1}A$ is surjective. Consider an element $a_0/s_0\in S_0^{-1}A$. Notice that if $s_0$ is a non-unit, then it's a zero-divisor which is a contradiction given $s_0\in S_0$. Hence it must be a unit. Then we have $a_0s_0^{-1}\in A$ is a pre-image of $a_0/s_0$, which proves that the homomorphism $A\to S_0^{-1}A$ is surjective. \todo{See "A Term" Exercise 11.26!}

\section{Ex 19.}

\subsection{(i)} 
Direct application of Proposition 3.8 on Page 40 of \cite{atiyah1994introduction}. \todo{verified \href{https://stacks.math.columbia.edu/tag/080S}{HERE}}